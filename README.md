# BEBR Bugs - –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–≥–∞–º–∏

–°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–≥–∞–º–∏ —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π Discord –∏ Kanban –¥–æ—Å–∫–æ–π, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ MCP (Model-Controller-Presenter) —Å –ø–∞—Ç—Ç–µ—Ä–Ω–æ–º DAO.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîê **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Discord** - –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –≤—Ö–æ–¥ —á–µ—Ä–µ–∑ Discord OAuth
- üìä **Kanban –¥–æ—Å–∫–∞** - –≤–∏–∑—É–∞–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–∞–º–∏ —Å —Å—Ç–∞—Ç—É—Å–∞–º–∏:
  - NEW (–ù–æ–≤—ã–π)
  - IN_PROGRESS (–í —Ä–∞–±–æ—Ç–µ) 
  - TESTING (–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
  - READY_TO_RELEASE (–ì–æ—Ç–æ–≤ –∫ —Ä–µ–ª–∏–∑—É)
  - CLOSED (–ó–∞–∫—Ä—ã—Ç)
- ü§ñ **Discord –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –±–∞–≥–æ–≤ –∏–∑ –∫–∞–Ω–∞–ª–æ–≤:
  - `qa-autoreport` - –±–∞–≥–∏ –≥–µ–π–º–ø–ª–µ—è
  - `game-ideas` - –∏–¥–µ–∏ –¥–ª—è –∏–≥—Ä—ã
- üí¨ **–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏** - –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–ª—è—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –±–∞–≥–∞–º
- üìé **–í–ª–æ–∂–µ–Ω–∏—è** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ —Ñ–∞–π–ª–æ–≤
- üìà **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞** - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –±–∞–≥–∞–º –∏ –∏—Ö —Å—Ç–∞—Ç—É—Å–∞–º
- üë• **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ** - –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –±–∞–≥–æ–≤ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º –∫–æ–º–∞–Ω–¥—ã

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–∞—Ö MCP –∏ DAO:

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
src/
‚îú‚îÄ‚îÄ dao/              # Data Access Objects
‚îÇ   ‚îú‚îÄ‚îÄ BugDAO.ts
‚îÇ   ‚îú‚îÄ‚îÄ CommentDAO.ts
‚îÇ   ‚îî‚îÄ‚îÄ UserDAO.ts
‚îú‚îÄ‚îÄ services/         # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îî‚îÄ‚îÄ BugService.ts
‚îú‚îÄ‚îÄ controllers/      # HTTP –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã
‚îÇ   ‚îî‚îÄ‚îÄ BugController.ts
‚îú‚îÄ‚îÄ types/           # TypeScript —Ç–∏–ø—ã
‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îî‚îÄ‚îÄ lib/             # –£—Ç–∏–ª–∏—Ç—ã
    ‚îú‚îÄ‚îÄ database.ts
    ‚îú‚îÄ‚îÄ auth.ts
    ‚îî‚îÄ‚îÄ utils.ts

app/                 # Next.js App Router
‚îú‚îÄ‚îÄ api/            # API routes
‚îú‚îÄ‚îÄ dashboard/      # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–∞—à–±–æ—Ä–¥–∞
‚îú‚îÄ‚îÄ kanban/        # Kanban –¥–æ—Å–∫–∞
‚îî‚îÄ‚îÄ bugs/          # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–∞–º–∏

components/         # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îú‚îÄ‚îÄ ui/            # –ë–∞–∑–æ–≤—ã–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îú‚îÄ‚îÄ layout/        # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–∞–∫–µ—Ç–∞
‚îî‚îÄ‚îÄ providers/     # React –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
```

### –ü–∞—Ç—Ç–µ—Ä–Ω—ã

- **DAO (Data Access Object)** - –∏–∑–æ–ª—è—Ü–∏—è –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º
- **Service Layer** - –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **Controller** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ HTTP –∑–∞–ø—Ä–æ—Å–æ–≤
- **Repository Pattern** - –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –Ω–∞–¥ –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Frontend**: Next.js 14, TypeScript, Tailwind CSS, Radix UI
- **Backend**: Next.js API Routes, Prisma ORM
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: SQLite (–º–æ–∂–Ω–æ –ª–µ–≥–∫–æ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ PostgreSQL/MySQL)
- **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: NextAuth.js —Å Discord –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–º
- **UI**: –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω —Å —Ç–µ–º–Ω–æ–π/—Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–æ–π

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**
```bash
git clone <repository-url>
cd bebr-bugs
```

2. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**
```bash
npm install
```

3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è**
```bash
cp env.example .env.local
```

–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
- `DISCORD_CLIENT_ID` –∏ `DISCORD_CLIENT_SECRET` - –∏–∑ Discord Developer Portal
- `NEXTAUTH_SECRET` - —Å–ª—É—á–∞–π–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ –¥–ª—è –ø–æ–¥–ø–∏—Å–∏ JWT —Ç–æ–∫–µ–Ω–æ–≤
- `DISCORD_WEBHOOK_SECRET` - —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è webhook'–æ–≤

4. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**
```bash
npx prisma generate
npx prisma db push
```

5. **–ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**
```bash
npm run dev
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É http://localhost:3000

## Discord –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –°–æ–∑–¥–∞–Ω–∏–µ Discord –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ [Discord Developer Portal](https://discord.com/developers/applications)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
3. –í —Ä–∞–∑–¥–µ–ª–µ OAuth2 –¥–æ–±–∞–≤—å—Ç–µ redirect URL: `http://localhost:3000/api/auth/callback/discord`
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ Client ID –∏ Client Secret –≤ `.env.local`

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ webhook'–∞

–î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –±–∞–≥–æ–≤ –∏–∑ Discord –∫–∞–Ω–∞–ª–æ–≤ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ webhook:

```bash
POST /api/discord/webhook
Authorization: Bearer YOUR_WEBHOOK_SECRET
Content-Type: application/json

{
  // Discord message data
}
```

## API Endpoints

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- `GET /api/auth/signin` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞
- `GET /api/auth/callback/discord` - Discord callback
- `POST /api/auth/signout` - –≤—ã—Ö–æ–¥

### –ë–∞–≥–∏
- `GET /api/bugs` - –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –±–∞–≥–æ–≤
- `POST /api/bugs` - —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –±–∞–≥
- `GET /api/bugs/[id]` - –ø–æ–ª—É—á–∏—Ç—å –±–∞–≥ –ø–æ ID
- `PUT /api/bugs/[id]` - –æ–±–Ω–æ–≤–∏—Ç—å –±–∞–≥
- `DELETE /api/bugs/[id]` - —É–¥–∞–ª–∏—Ç—å –±–∞–≥
- `POST /api/bugs/[id]/comments` - –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π

### Webhook'–∏
- `POST /api/discord/webhook` - Discord webhook –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –±–∞–≥–æ–≤

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ –±–∞–≥–æ–≤

1. –û–±–Ω–æ–≤–∏—Ç–µ enum `BugType` –≤ `prisma/schema.prisma`
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `npx prisma db push`
3. –û–±–Ω–æ–≤–∏—Ç–µ –ø–∞—Ä—Å–µ—Ä –≤ `BugService.parseDiscordBugType()`

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å—Ç–∞—Ç—É—Å–æ–≤

1. –û–±–Ω–æ–≤–∏—Ç–µ enum `BugStatus` –≤ `prisma/schema.prisma`
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `npx prisma db push`
3. –û–±–Ω–æ–≤–∏—Ç–µ Kanban –¥–æ—Å–∫—É –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

## –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### Vercel (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∫ Vercel
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ –ø–∞–Ω–µ–ª–∏ Vercel
3. –ò–∑–º–µ–Ω–∏—Ç–µ `DATABASE_URL` –Ω–∞ PostgreSQL –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–º–æ—Ç—Ä–∏—Ç–µ —Ñ–∞–π–ª LICENSE –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, —Å–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏. 